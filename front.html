<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diaster Management & Alert System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="siteheader">
  <div class="header-left">
    <div class="logo">âš ï¸</div>
    <div>
      <h1>Disaster Management & Alert System</h1>
      <h2>Emergency Response & Safety Information</h2>
    </div>
  </div>

  <div class="header-buttons">
    <a href="admin.html" class="header-btn admin">Admin Login</a>
    <a href="register.html" class="header-btn public">Register User</a>
  </div>
</header>



<section id="alertBar" class="alert-bar hidden">
  

  <div class="alert-text">
    <div class="alert-header">
      <span class="alert-type" id="alertType"></span>
      <span class="alert-severity" id="alertSeverity"></span>
    </div>

    <p class="alert-message" id="alertMessage"></p>

    <p class="alert-meta">
      Last updated:
      <span id="alertTime"></span> |
      <span id="alertLocation"></span>
    </p>

    <h5>ğŸ“ Call 100 for assistance</h5>
  </div>
</section>





<section class="quickactionsec">
<h2>Emergency Quick Actions</h2>
<div class="quickactions">

<div class="action">ğŸš¨ Call 112</div>
<a href="report.html" class="action">ğŸ“¢ Report Incident</a>
<a href="findshelter.html" class="action">ğŸ  Find Shelter</a>
<a href="radio.html" class="action">ğŸ“» Emergency Radio</a>
</div>
</section>

<section class="helplines">
  <h2>ğŸ“ Emergency Helplines (India)</h2>
  <p class="helpline-subtitle">Quick access to national emergency contacts</p>

  <div class="helpline-card">
    <div class="helpline-info">
      <div class="helpline-icon">ğŸš¨</div>
      <div>
        <h3>Emergency Response</h3>
        <p>Police, Fire, Ambulance (All-in-one)</p>
      </div>
    </div>
    <div class="helpline-number">112</div>
  </div>

  <div class="helpline-card">
    <div class="helpline-info">
      <div class="helpline-icon">ğŸš“</div>
      <div>
        <h3>Police Helpline</h3>
        <p>Report crimes, safety concerns</p>
      </div>
    </div>
    <div class="helpline-number">100</div>
  </div>

  <div class="helpline-card">
    <div class="helpline-info">
      <div class="helpline-icon">ğŸš‘</div>
      <div>
        <h3>Ambulance</h3>
        <p>Medical Emergencies</p>
      </div>
    </div>
    <div class="helpline-number">102</div>
  </div>

  <div class="helpline-card">
    <div class="helpline-info">
      <div class="helpline-icon">ğŸ”¥</div>
      <div>
        <h3>Fire Department</h3>
        <p>Fire and rescue services</p>
      </div>
    </div>
    <div class="helpline-number">101</div>
  </div>

  <div class="helpline-card">
    <div class="helpline-info">
      <div class="helpline-icon">ğŸ‘©â€ğŸ¦°</div>
      <div>
        <h3>Womenâ€™s Helpline</h3>
        <p>National Helpline for Women Safety</p>
      </div>
    </div>
    <div class="helpline-number">1091</div>
  </div>

  <div class="helpline-card">
    <div class="helpline-info">
      <div class="helpline-icon">ğŸ‘¶</div>
      <div>
        <h3>Child Helpline</h3>
        <p>24/7 support for children in distress</p>
      </div>
    </div>
    <div class="helpline-number">1098</div>
  </div>

  <div class="helpline-card">
    <div class="helpline-info">
      <div class="helpline-icon">ğŸ’Š</div>
      <div>
        <h3>Poison Information Centre</h3>
        <p>AIIMS New Delhi â€“ Poison emergencies</p>
      </div>
    </div>
    <div class="helpline-number">1800-116-117</div>
  </div>
</section>
<div class="helpline-footer">
  <a href="https://ndmindia.mha.gov.in/" target="_blank" class="helpline-link">
    View All National & State Helplines
  </a>
</div>
<section class="weather-section">
  <h2>ğŸŒ¦ï¸ Weather & Active Alerts</h2>
  <p class="weather-subtitle">Current conditions and warnings</p>

  <div class="weather-card">
    <div class="weather-main">
      <div class="temp">29Â°C</div>
      <div class="condition">Partly Cloudy</div>
    </div>

    <div class="weather-details">
      <div><strong>Humidity:</strong> 72%</div>
      <div><strong>Wind:</strong> 8 km/h</div>
      <div><strong>Visibility:</strong> 10 km</div>
      <div><strong>UV Index:</strong> Moderate</div>
    </div>
  </div>
</section>

<!-- FIXED COLLAPSIBLE SECTION -->
<section class="safety-tabs">
  <h2>ğŸ“˜ Safety Guidelines</h2>
  <p class="safety-subtitle">Essential safety information for various disasters</p>

  <!-- Fire safety -->
  <div class="tab-content">
    <h3 class="collapsible">ğŸ”¥ Fire Safety Measures</h3>
    <div class="content-body">
      <ul>
        <li>Install smoke alarms on every floor.</li>
        <li>Keep fire extinguishers accessible.</li>
        <li>Do not overload plug points.</li>
        <li>Know emergency exits.</li>
      </ul>
    </div>

    <h3 class="collapsible">ğŸš¨ Emergency Steps During Fire</h3>
    <div class="content-body">
      <ul>
        <li>Stay low to avoid smoke.</li>
        <li>Cover nose with wet cloth.</li>
        <li>Never use elevators.</li>
        <li>Call fire services: 101.</li>
      </ul>
    </div>
  </div>

  <!-- General -->
  <div class="tab-content">
    <h3 class="collapsible">ğŸ§­ General Safety</h3>
    <div class="content-body">
      <ul>
        <li>Keep emergency contacts and a first-aid kit ready.</li>
        <li>Store important documents in waterproof folders.</li>
        <li>Follow official alerts and donâ€™t spread rumors.</li>
      </ul>
    </div>
  </div>

  <!-- Earthquake -->
  <div class="tab-content">
    <h3 class="collapsible">ğŸŒ‹ Earthquake Safety</h3>
    <div class="content-body">
      <ul>
        <li>DROP to your hands and knees to avoid falling.</li>
        <li>COVER your head and neck under sturdy furniture.</li>
        <li>HOLD ON until shaking stops.</li>
        <li>Stay away from windows and heavy objects.</li>
      </ul>
    </div>
  </div>

  <!-- Flood -->
  <div class="tab-content">
    <h3 class="collapsible">ğŸŒŠ Flood Safety</h3>
    <div class="content-body">
      <ul>
        <li>Move to higher ground immediately.</li>
        <li>Avoid walking or driving through flooded roads.</li>
        <li>Unplug electrical appliances if flooding starts.</li>
      </ul>
    </div>
  </div>

  <!-- Cyclone -->
  <div class="tab-content">
    <h3 class="collapsible">ğŸŒªï¸ Cyclone Safety</h3>
    <div class="content-body">
      <ul>
        <li>Stay indoors and away from windows.</li>
        <li>Keep emergency food, water, and flashlight ready.</li>
        <li>Evacuate if instructed by authorities.</li>
      </ul>
    </div>
  </div>

</section>

<section class="news-scrolling-cards">
  <h2>Latest Disaster Updates</h2>
  <p class="news-subtitle">Stay informed with real-time news and alerts</p>
  <div class="news-cards-wrapper">
    <article class="news-card">
      <h3>Flood Warning Extended in Mumbai</h3>
      <p>Heavy rains continue; evacuate low-lying areas immediately. Source: NDMA</p>
      <time datetime="2023-08-30T10:15">Updated 5 mins ago</time>
    </article>
    <article class="news-card">
      <h3>Earthquake Preparedness Drill in Delhi</h3>
      <p>Authorities conduct safety drills; learn more about earthquake response.</p>
      <time datetime="2023-08-30T09:00">Updated 1 hour ago</time>
    </article>
    <article class="news-card">
      <h3>Cyclone Alert for Coastal Regions</h3>
      <p>Strong winds expected; secure homes and stock essentials. Source: IMD</p>
      <time datetime="2023-08-30T08:00">Updated 2 hours ago</time>
    </article>
    <div id="news-container"></div>

  </div>
</section>

<script>
document.querySelectorAll(".collapsible").forEach(h3 => {
  h3.addEventListener("click", () => {
    const body = h3.nextElementSibling;
    body.style.display =
      body.style.display === "block" ? "none" : "block";
  });
});
</script>
<script>
const form = document.getElementById("incidentForm");

form.addEventListener("submit", async (e) => {
  e.preventDefault();

  const formData = new FormData(form);

  try {
    const response = await fetch("http://localhost:5000/api/incidents", {
      method: "POST",
      body: formData   // â— NO headers here
    });

    const data = await response.json();

    if (!response.ok) {
      alert(data.message);
      return;
    }

    alert("Incident submitted successfully!");
    form.reset();
  } catch (error) {
    console.error(error);
    alert("Error submitting form");
  }
});

</script>
<script src="alert.js"></script>
<script src="shelter.js"></script>
<script>
async function loadNews() {
  try {
    const response = await fetch("https://news.knowivate.com/api/latest");
    const data = await response.json();

    const container = document.getElementById("news-container");
    container.innerHTML = "";

    // limit to 5 news articles
    data.articles.slice(0, 5).forEach(news => {
      const article = document.createElement("article");
      article.className = "news-card";

      article.innerHTML = `
        <h3>${news.title}</h3>
        <p>${news.description || "No description available"}</p>
        <time datetime="${news.published_at}">
          ${new Date(news.published_at).toLocaleString()}
        </time>
      `;

      container.appendChild(article);
    });

  } catch (error) {
    console.error("Error loading news:", error);
  }
}

// Load news on page load
loadNews();
</script>



</body>
</html>
